USE SchoolDB;
GO

-- Очистка предыдущих данных (если нужно)
DELETE FROM AcademicPerformance;
DELETE FROM StudyGroups;
DELETE FROM Subjects;
DELETE FROM Users;
DELETE FROM Groups;
DELETE FROM Roles;
GO

-- Вставка ролей
INSERT INTO Roles (RoleName) VALUES 
('Администратор'),
('Преподаватель'),
('Ученик');
GO

-- Вставка групп
INSERT INTO Groups (GroupName, Description) VALUES
('10-IT1', '10 класс, IT-группа 1'),
('10-IT2', '10 класс, IT-группа 2'),
('11-IT1', '11 класс, IT-группа 1'),
('11-IT2', '11 класс, IT-группа 2'),
('9-IT', '9 класс, IT-группа');
GO

-- Вставка предметов (как ранее)
INSERT INTO Subjects (SubjectName, Description) VALUES
('Основы робототехники на базе LEGO Mindstorms EV3', 'Изучение основ робототехники с использованием конструкторов LEGO Mindstorms EV3'),
('Основы робототехники на языке Scratch', 'Введение в робототехнику с визуальным программированием на Scratch'),
('Устройство и основы программирования микроконтроллеров', 'Изучение архитектуры и базового программирования микроконтроллеров'),
('Программирование микроконтроллеров STM32 в STM32CubeIDE', 'Продвинутое программирование микроконтроллеров STM32'),
('Основы IT', 'Базовые понятия информационных технологий'),
('Углубленное изучение IT-технологий', 'Продвинутые темы в области информационных технологий'),
('Подготовка к ОГЭ по Информатике', 'Подготовка к основному государственному экзамену по информатике'),
('Подготовка к ЕГЭ по Информатике и ИКТ', 'Подготовка к единому государственному экзамену'),
('3D-печать', 'Изучение технологий 3D-печати и моделирования'),
('Беспилотные летательные аппараты (БПЛА)', 'Изучение устройства и программирования дронов');
GO

-- Вставка пользователей с нормальными фамилиями
INSERT INTO Users (FirstName, LastName, MiddleName, BirthDate, Email, Phone, RoleID, GroupID, Username, PasswordHash) VALUES
-- Администраторы
('Алексей', 'Иванов', 'Сергеевич', '1980-05-15', 'admin1@school.ru', '+79151112233', 1, NULL, 'admin1', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Ольга', 'Петрова', 'Викторовна', '1982-11-23', 'admin2@school.ru', '+79152223344', 1, NULL, 'admin2', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),

-- Преподаватели
('Дмитрий', 'Соколов', 'Александрович', '1985-04-12', 'sokolov@school.ru', '+79153334455', 2, NULL, 'teacher1', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Анна', 'Кузнецова', 'Игоревна', '1988-07-23', 'kuznetsova@school.ru', '+79154445566', 2, NULL, 'teacher2', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Сергей', 'Попов', 'Дмитриевич', '1983-09-15', 'popov@school.ru', '+79155556677', 2, NULL, 'teacher3', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Елена', 'Васильева', 'Викторовна', '1986-11-30', 'vasileva@school.ru', '+79156667788', 2, NULL, 'teacher4', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Иван', 'Морозов', 'Олегович', '1984-03-18', 'morozov@school.ru', '+79157778899', 2, NULL, 'teacher5', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),

-- Ученики
('Артем', 'Смирнов', 'Дмитриевич', '2007-02-14', 'smirnov@school.ru', '+79160001122', 3, 1, 'student1', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Алина', 'Новикова', 'Сергеевна', '2007-05-23', 'novikova@school.ru', '+79161112233', 3, 1, 'student2', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Максим', 'Волков', 'Андреевич', '2006-08-30', 'volkov@school.ru', '+79162223344', 3, 2, 'student3', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('София', 'Павлова', 'Ивановна', '2006-11-12', 'pavlova@school.ru', '+79163334455', 3, 2, 'student4', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Кирилл', 'Федоров', 'Михайлович', '2005-01-25', 'fedorov@school.ru', '+79164445566', 3, 3, 'student5', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Виктория', 'Козлова', 'Алексеевна', '2005-04-18', 'kozlova@school.ru', '+79165556677', 3, 3, 'student6', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Даниил', 'Лебедев', 'Евгеньевич', '2005-07-09', 'lebedev@school.ru', '+79166667788', 3, 4, 'student7', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Полина', 'Соловьева', 'Дмитриевна', '2005-09-30', 'solovieva@school.ru', '+79167778899', 3, 4, 'student8', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Никита', 'Егоров', 'Сергеевич', '2008-03-22', 'egorov@school.ru', '+79168889900', 3, 5, 'student9', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F'),
('Ангелина', 'Орлова', 'Александровна', '2008-06-15', 'orlova@school.ru', '+79169990011', 3, 5, 'student10', 'EF797C8118F02DFB649607DD5D3F8C7623048C9C063D532CC95C5ED7A898A64F');
GO

-- Создание учебных групп с IT-предметами
INSERT INTO StudyGroups (GroupID, SubjectID, TeacherID, AcademicYear) VALUES
-- 10-IT1
(1, 1, 3, '2023-2024'), -- LEGO Mindstorms, преподает Соколов Д.А.
(1, 5, 4, '2023-2024'), -- Основы IT, преподает Кузнецова А.И.
(1, 9, 7, '2023-2024'), -- 3D-печать, преподает Морозов И.О.

-- 10-IT2
(2, 2, 3, '2023-2024'), -- Scratch робототехника, преподает Соколов Д.А.
(2, 6, 4, '2023-2024'), -- Углубленное IT, преподает Кузнецова А.И.
(2, 10, 7, '2023-2024'), -- БПЛА, преподает Морозов И.О.

-- 11-IT1
(3, 3, 5, '2023-2024'), -- Микроконтроллеры, преподает Попов С.Д.
(3, 4, 5, '2023-2024'), -- STM32, преподает Попов С.Д.
(3, 8, 6, '2023-2024'), -- Подготовка к ЕГЭ, преподает Васильева Е.В.

-- 11-IT2
(4, 3, 5, '2023-2024'), -- Микроконтроллеры, преподает Попов С.Д.
(4, 7, 6, '2023-2024'), -- Подготовка к ОГЭ, преподает Васильева Е.В.
(4, 10, 7, '2023-2024'), -- БПЛА, преподает Морозов И.О.

-- 9-IT
(5, 1, 3, '2023-2024'), -- LEGO Mindstorms, преподает Соколов Д.А.
(5, 2, 3, '2023-2024'), -- Scratch робототехника, преподает Соколов Д.А.
(5, 5, 4, '2023-2024'); -- Основы IT, преподает Кузнецова А.И.
GO

-- Заполнение успеваемости для IT-предметов
INSERT INTO AcademicPerformance (StudentID, StudyGroupID, GradeDate, Grade, Attendance, Comment) VALUES
-- Оценки по LEGO Mindstorms (10-IT1)
(11, 1, '2023-09-10', 5, 1, 'Отличная сборка робота'),
(11, 1, '2023-09-17', 4, 1, 'Хорошая программа, но робот иногда теряет линию'),
(12, 1, '2023-09-10', 4, 1, 'Хорошая работа'),
(12, 1, '2023-09-17', 5, 1, 'Прекрасная траектория движения'),

-- Оценки по Scratch робототехнике (10-IT2)
(13, 4, '2023-09-11', 5, 1, 'Отличный алгоритм движения'),
(14, 4, '2023-09-11', 3, 1, 'Нужно доработать логику'),

-- Оценки по микроконтроллерам (11-IT1)
(15, 7, '2023-09-14', 4, 1, 'Хорошо разобрался с регистрами'),
(16, 7, '2023-09-14', 5, 1, 'Идеальная работа с прерываниями'),

-- Оценки по 3D-печати (10-IT1)
(11, 3, '2023-10-01', 5, 1, 'Отличная модель'),
(12, 3, '2023-10-01', 4, 1, 'Хорошая модель, но есть небольшие дефекты печати'),

-- Отсутствия
(13, 4, '2023-10-02', NULL, 0, 'Участвовал в соревнованиях по робототехнике'),
(15, 7, '2023-10-05', NULL, 0, 'Болезнь');
GO